<?xml version="1.0"?>
<arquillian xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns="http://jboss.org/schema/arquillian"
            xsi:schemaLocation="http://jboss.org/schema/arquillian
                http://jboss.org/schema/arquillian/arquillian_1_0.xsd">
    <engine>
        <property name="deploymentExportPath">target/</property>
    </engine>


    <extension qualifier="cube">
        <property name="connectionMode">STARTORCONNECT</property>
    </extension>
    <extension qualifier="docker">
        <property name="serverVersion">1.22</property>
        <property name="serverUri">http://localhost:2375</property>
        <property name="definitionFormat">CUBE</property>
        <property name="dockerContainers">
            payara:
              image: docker-io.dbc.dk/integration-test-payara
              portBindings: [4848/tcp]
        </property>
    </extension>


    <container qualifier="glassfish" default="true">
        <configuration>
            <!--<property name="glassFishHome">../../../../../integration-test/glassfish/home/</property>-->
            <property name="adminHost">localhost</property>
            <property name="adminPort">${container.admin.port}</property>
            <property name="adminHttps">true</property>
            <property name="adminUser">admin</property>
            <property name="adminPassword">dataio</property>
        </configuration>
        <!-- this bit is necessary if http port is not the standard 8080
            (e.g. when mapped to an exposed docker container port) -->
        <protocol type="Servlet 3.0">
            <property name="port">${container.http.port}</property>
            <property name="host">localhost</property>
        </protocol>
    </container>
</arquillian>
