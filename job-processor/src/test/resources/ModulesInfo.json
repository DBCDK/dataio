{"javascript":"LyoqIEBmaWxlIE1vZHVsZXNJbmZvIG1vZHVsZS4gR2V0IGluZm9ybWF0aW9uIGFib3V0IGxvYWRlZCBtb2R1bGVzICovCgovLyBXQVJOSU5HOiBJZiB5b3UgYnJlYWsgdGhpcyBmaWxlLCB0aGUgbW9kdWxlIHN5c3RlbSB3aWxsIHN0b3Agd29ya2luZyEgCgovLyBqc2xpYiBkZXBlbmRzIG9uIGFuZCBsb2FkcyB0aGlzIG1vZHVsZS4KLy8gVGhlIGJpbmFyeSB1c2VzIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOgovLyAKLy8gX19Nb2R1bGVzSW5mby5jaGVja0RlcEFscmVhZHlMb2FkZWQKLy8gX19Nb2R1bGVzSW5mby5hZGRQdXNoTW9kdWxlCi8vIF9fTW9kdWxlc0luZm8ucG9wTW9kdWxlTG9hZFN0YWNrCi8vIF9fTW9kdWxlc0luZm8ucmVtb3ZlTW9kdWxlCi8vCi8vIEl0IGlzIGFsc28gdXNlZCBpbmRpcmVjdGx5IGJ5IFVzZS51c2UuanMKLy8gCgovLyBWYXJpb3VzIGZpbGVzIGluIHNjcmlwdHMvKi51c2UuanMgZGVwZW5kcyBvbiB0aGUgaW50ZXJmYWNlIGluIHRoaXMgZmlsZS4KCi8vIE5vdGUsIGZvciB2YXJpb3VzIG1vcmUgb3IgbGVzcyBvYnZpb3VzIHJlYXNvbnMsIHlvdSBjYW4gKm5vdCogdXNlIGFueSBvdGhlciBtb2R1bGVzCi8vIGZyb20gdGhpcyBmaWxlLiBNa2F5PwoKLy8gVGhpcyBpcyBub3QgbWVhbnQgdG8gYmUgZXh0ZXJuYWxseSBleHBvc2VkLgp2YXIgX19Nb2R1bGVzSW5mbyA9IGZ1bmN0aW9uKCApIHsKICAgIHZhciB0aGF0ID0ge307CgogICAgLy8gSGFzaCBmcm9tIG1vZHVsZU5hbWUgdG8gbW9kdWxlSW5mbzogbmFtZSwgdXJsLCBzeW1ib2xzLCBwb3NzaWJseSBvdGhlcnMgYXQgYSBsYXRlciB0aW1lLgogICAgdmFyIF9fbW9kdWxlcyA9IHt9OwoKICAgIC8vIFN0YWNrIG9mIG1vZHVsZXMgdGhhdCBhcmUgY3VycmVudGx5IGJlZWluZyBsb2FkZWQKICAgIHZhciBfX21vZHVsZUxvYWRTdGFjayA9IFsgXTsKCiAgICAvKiBEZWJ1ZyBmdW5jdGlvbgogICAgdGhhdC5wcmludF9idWZmZXIgPSAiIjsKICAgIHZhciBteXByaW50ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpICkgewogICAgICAgICAgICB0aGF0LnByaW50X2J1ZmZlciArPSBhcmd1bWVudHNbaV07CiAgICAgICAgfQogICAgfQoqLwogICAgLy8gVGhpcyBmdW5jdGlvbiBkb2VzIHR3byB0aGluZ3MuIEZpcnN0IGl0IGNoZWNrcyBpZiB3ZSBhcmUgY3VycmVudGx5IGxvYWRpbmcgYSBtb2R1bGUuCiAgICAvLyBJZiB0aGF0IGlzIHRoZSBjYXNlLCB0aGVuIGl0IGFzc3VtZXMgdGhhdCB0aGUgbW9kdWxlIG5lZWQgdG8gdXNlIHRoZSBtb2R1bGVOYW1lLCBhbmQgYWRkcyBpdAogICAgLy8gdG8gdGhlIGxpc3Qgb2YgdXNlcyBmb3IgdGhlIGN1cnJlbnRseSBsb2FkaW5nIG1vZHVsZS4KICAgIC8vIFNlY29uZGx5LCBpdCBjaGVja3MgaWYgdGhlIG1vZHVsZSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZCBhbmQgcmV0dXJucyB0cnVlIG9mIGZhbHNlCiAgICAvLyEgXHRvZG8gVGhpcyBpcyBhbG1vc3QgYWx3YXlzIGNhbGxlZCBvbmNlIHdpdGggdGhlIG1vZHVsZSBpdCBzZWxmLCB3aGlsZSB3ZSBhcmUgbG9hZGluZyBpdC4gSSBhbSBub3Qgc3VyZSB3aHk/CiAgICB0aGF0LmNoZWNrRGVwQWxyZWFkeUxvYWRlZCA9IGZ1bmN0aW9uKCBtb2R1bGVOYW1lICkgewogICAgICAgIC8vICAgICAgICBteXByaW50KCAiY2hlY2tEZXBBbHJlYWR5TG9hZGVkKCAiICsgbW9kdWxlTmFtZSArICIpO1xuIiApOwogICAgICAgIGlmICggdGhpcy5pc0xvYWRpbmdNb2R1bGUoICkgKSB7CiAgICAgICAgICAgIHZhciBjdXJyZW50X21vZHVsZSA9IHRoaXMuY3VycmVudExvYWRpbmdNb2R1bGUoICk7CiAgICAgICAgICAgIGlmICggY3VycmVudF9tb2R1bGUgIT09IG1vZHVsZU5hbWUgKSB7IC8vIE5vdCBzdXJlIHdoeSB0aGlzIGhhcHBlbnMuCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBteXByaW50KCAiICBpc0xvYWRpbmdNb2R1bGU6ICIgKyB0aGlzLmN1cnJlbnRMb2FkaW5nTW9kdWxlKCkgKyAiIGhhcyB1c2VzOiAiICsgX19tb2R1bGVzWyB0aGlzLmN1cnJlbnRMb2FkaW5nTW9kdWxlKCkgXS51c2VzICsgIlxuIiApOwogICAgICAgICAgICAgICAgaWYgKCAtMSA9PSBfX21vZHVsZXNbIHRoaXMuY3VycmVudExvYWRpbmdNb2R1bGUoICkgXS51c2VzLmluZGV4T2YoIG1vZHVsZU5hbWUgKSApIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgbXlwcmludCggIiAgICBwdXNoaW5nICIgKyB0aGlzLmN1cnJlbnRMb2FkaW5nTW9kdWxlKCkgKyAiID09PiAiICsgbW9kdWxlTmFtZSArICJcbiIgKTsKICAgICAgICAgICAgICAgICAgICBfX21vZHVsZXNbIHRoaXMuY3VycmVudExvYWRpbmdNb2R1bGUoICkgXS51c2VzLnB1c2goIG1vZHVsZU5hbWUgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5oYXNNb2R1bGUoIG1vZHVsZU5hbWUgKTsKICAgIH07CgogICAgdGhhdC5oYXNNb2R1bGUgPSBmdW5jdGlvbiggbW9kdWxlTmFtZSApIHsKICAgICAgICByZXR1cm4gbW9kdWxlTmFtZSBpbiBfX21vZHVsZXM7CiAgICB9CgogICAgdGhhdC5nZXRNb2R1bGUgPSBmdW5jdGlvbiggbW9kdWxlTmFtZSApIHsKICAgICAgICBpZiAoICF0aGlzLmhhc01vZHVsZSggbW9kdWxlTmFtZSApICkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICJnZXRNb2R1bGU6IE1vZHVsZSAnIiArIG1vZHVsZU5hbWUgKyAiJyBpcyBub3QgcmVnaXN0ZXJlZCIgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9fbW9kdWxlc1sgbW9kdWxlTmFtZSBdOwogICAgfTsKCiAgICB0aGF0LmFkZFB1c2hNb2R1bGUgPSBmdW5jdGlvbiggbW9kdWxlTmFtZSwgdXJsICkgewogICAgICAgIGlmICggdGhpcy5oYXNNb2R1bGUoIG1vZHVsZU5hbWUgKSApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAiYWRkUHVzaE1vZHVsZTogTW9kdWxlICciICsgbW9kdWxlTmFtZSArICInIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCB3aXRoIHVybDogJyIgKyB0aGlzLmdldE1vZHVsZSggbW9kdWxlTmFtZSApLnVybCArICInIiApOwogICAgICAgIH0KICAgICAgICBfX21vZHVsZXNbIG1vZHVsZU5hbWUgXSA9IHsKICAgICAgICAgICAgbmFtZTogbW9kdWxlTmFtZSwKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIHN5bWJvbHM6IFsgXSwKICAgICAgICAgICAgdXNlczogWyBdCiAgICAgICAgfTsKICAgICAgICB0cnkgewogICAgICAgICAgICBfX21vZHVsZUxvYWRTdGFjay5wdXNoKCBtb2R1bGVOYW1lICk7CiAgICAgICAgfSBjYXRjaCAoIGUgKSB7CiAgICAgICAgICAgIGRlbGV0ZSBfX21vZHVsZXNbIG1vZHVsZU5hbWUgXTsKICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICB9OwoKICAgIC8vIFNldCB0aGUgdXJsIG9uIGEgbW9kdWxlLiBUaGlzIGlzIHVzZWQgdG8gc2V0IHRoZSBVUkwgZm9yIGEgbW9kdWxlLCBhZnRlciBsb2FkaW5nLi4uCiAgICAvLyBVc2UgY2FzZSBpcyB0aGUgTW9kdWxlc0luZm8gdXJsLi4uCiAgICB0aGF0LnNldE1vZHVsZVVybCA9IGZ1bmN0aW9uKCBtb2R1bGVOYW1lLCB1cmwgKSB7CiAgICAgICAgaWYgKCAhdGhpcy5oYXNNb2R1bGUoIG1vZHVsZU5hbWUgKSApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAic2V0TW9kdWxlVXJsOiBNb2R1bGUgJyIgKyBtb2R1bGVOYW1lICsgIicgaXMgbm90IHJlZ2lzdGVyZWQiICk7CiAgICAgICAgfQogICAgICAgIF9fbW9kdWxlc1sgbW9kdWxlTmFtZSBdLnVybCA9IHVybDsKICAgIH0KCiAgICB0aGF0LnJlbW92ZU1vZHVsZSA9IGZ1bmN0aW9uKCBtb2R1bGVOYW1lICkgewogICAgICAgIGlmICggIXRoaXMuaGFzTW9kdWxlKCBtb2R1bGVOYW1lICkgKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggInJlbW92ZU1vZHVsZTogTW9kdWxlICciICsgbW9kdWxlTmFtZSArICInIGlzIG5vdCByZWdpc3RlcmVkIiApOwogICAgICAgIH0KICAgICAgICBkZWxldGUgX19tb2R1bGVzWyBtb2R1bGVOYW1lIF07CiAgICB9OwoKICAgIHRoYXQucG9wTW9kdWxlTG9hZFN0YWNrID0gZnVuY3Rpb24oICkgewogICAgICAgIHJldHVybiBfX21vZHVsZUxvYWRTdGFjay5wb3AoICk7CiAgICB9OwoKICAgIHRoYXQuaXNMb2FkaW5nTW9kdWxlID0gZnVuY3Rpb24oICkgewogICAgICAgIHJldHVybiBfX21vZHVsZUxvYWRTdGFjay5sZW5ndGggIT09IDA7CiAgICB9OwoKICAgIHRoYXQuY3VycmVudExvYWRpbmdNb2R1bGUgPSBmdW5jdGlvbiggKSB7CiAgICAgICAgaWYgKCAhdGhpcy5pc0xvYWRpbmdNb2R1bGUoICkgKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggImN1cnJlbnRMb2FkTW9kdWxlOiBOb3QgY3VycmVudGx5IGxvYWRpbmcgYSBtb2R1bGUiICk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfX21vZHVsZUxvYWRTdGFja1sgX19tb2R1bGVMb2FkU3RhY2subGVuZ3RoIC0gMSBdOwogICAgfTsKCiAgICAvLyBUaGUgc3ltYm9scyBhcnJheSBwYXNzZWQsIGlzIGNvcGllZAogICAgdGhhdC5hZGRTeW1ib2xzID0gZnVuY3Rpb24oIG1vZHVsZU5hbWUsIHN5bWJvbHMgKSB7CiAgICAgICAgaWYgKCAhdGhpcy5oYXNNb2R1bGUoIG1vZHVsZU5hbWUgKSApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAiYWRkU3ltYm9sczogTW9kdWxlICciICsgbW9kdWxlTmFtZSArICInIGlzIG5vdCByZWdpc3RlcmVkIiApOwogICAgICAgIH0KICAgICAgICB0aGlzLmdldE1vZHVsZSggbW9kdWxlTmFtZSApLnN5bWJvbHMgPSBzeW1ib2xzLm1hcCggZnVuY3Rpb24oIHggKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geDsKICAgICAgICAgICAgfSApOwogICAgfTsKCiAgICB0aGF0Lm1vZHVsZU5hbWVzID0gZnVuY3Rpb24oICkgewogICAgICAgIHZhciByZXMgPSBbIF07CiAgICAgICAgZm9yICggdmFyIG0gaW4gX19tb2R1bGVzICkgewogICAgICAgICAgICBpZiAoIF9fbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eSggbSApICkgewogICAgICAgICAgICAgICAgcmVzLnB1c2goIF9fbW9kdWxlc1sgbSBdLm5hbWUgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzOwogICAgfTsKCiAgICB0aGF0LnNldFZlcnNpb24gPSBmdW5jdGlvbiggbW9kdWxlTmFtZSwgdmVyc2lvbiApIHsKICAgICAgICB0aGlzLmdldE1vZHVsZSggbW9kdWxlTmFtZSApLnZlcnNpb24gPSB2ZXJzaW9uOwogICAgfTsKCiAgICB0aGF0LmdldFZlcnNpb24gPSBmdW5jdGlvbiggbW9kdWxlTmFtZSApIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRNb2R1bGUoIG1vZHVsZU5hbWUgKS52ZXJzaW9uOwogICAgfTsKCiAgICAvLyBUaGlzIGlzIGEgYml0IHNpbGx5LCBpdCBpbnNlcnRzIGl0c2VsZiwgdGhlbiByZWx5IG9uIHRoZSAKICAgIC8vIG1vZHVsZSBzeXN0ZW0gdG8gY29ycmVjdCB0aGUgdXJsLCBpZiBuZWVkZWQuIAogICAgLy8gVGhlcmUgYXJlIGhpc3RvcmljYWwgcmVhc29ucyB3aHkgaXQgZW5kZWQgdXAgbGlrZSB0aGlzCiAgICAvLyBSaWdodCBub3csIGl0IGlzIGhhcmQgdG8gY2hhbmdlLCBiZWNhdXNlIGl0IHdpbGwgYnJlYWsKICAgIC8vIGlmIG5vdCBjb29yZGluYXRlZCwgc28gbGVhdmUgaXQgbGlrZSB0aGlzLgogICAgdGhhdC5hZGRQdXNoTW9kdWxlKCAiTW9kdWxlc0luZm8iLCAidGhlIGluZm8gbW9kdWxlIGl0c2VsZiIgKTsKICAgIHRoYXQucG9wTW9kdWxlTG9hZFN0YWNrKCApOwoKICAgIHJldHVybiB0aGF0Owp9KCApOwoKLy8gQW4gaW50ZXJmYWNlIHRoYXQgY2FuIGJlIHB1YmxpY2FsbHkgdXNlZAovKiogCiAqIE1vZHVsZSB0byBnZXQgaW5mb3JtYXRpb24gYWJvdXQgbW9kdWxlcy4KICoKICogVGhpcyBuYW1lc3BhY2UgY3VycmVudGx5IG9ubHkgc3VwcG9ydHMgYSBjb3VwbGUgb2YgbWV0aG9kcywgdGhhdAogKiByZXR1cm5zIGluZm9ybWF0aW9uIGRlc2NyaWJpbmcgd2hlcmUgbW9kdWxlcyB3ZXJlIGxvYWRlZCBmcm9tLgogKgogKiBAbmFtZXNwYWNlIAogKiBAbmFtZSBNb2R1bGVzSW5mbyAqLwp2YXIgTW9kdWxlc0luZm8gPSBmdW5jdGlvbiggKSB7CiAgICB2YXIgdGhhdCA9IHt9OwogICAgdmFyIG1vZHVsZXNfaW5mbyA9IF9fTW9kdWxlc0luZm87CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHdpdGggYW4gdXJsIGZvciBhbGwgbG9hZGVkIG1vZHVsZXMuCiAgICAgKiAKICAgICAqIFRoaXMgbWV0aG9kIGlzIG1lYW50IGFzIGFuIGFpZCBmb3IgZS5nLiBzZXJ2ZXIgcHJvZ3JhbXMsIHRoYXQgY2FuCiAgICAgKiByZXBvcnQsIHVzaW5nIHRoZWlyIGxvZyBvciBzaW1pbGFyLCB3aGVyZSBtb2R1bGVzIHdoZXJlIGxvYWRlZCBmcm9tLgogICAgICogCiAgICAgKiBAc3ludGF4IE1vZHVsZXNJbmZvLmdldE1vZHVsZVVybHMoKTsKICAgICAqIEByZXR1cm4ge1N0cmluZ30gQSBzdHJpbmcgb2YgbW9kdWxlIG5hbWVzIGFuZCB0aGVpciBhc3NvY2lhdGVkIHVybHMKICAgICAqIEBtZXRob2QKICAgICAqIEBuYW1lIE1vZHVsZXNJbmZvLmdldE1vZHVsZVVybHMgKi8KICAgIHRoYXQuZ2V0TW9kdWxlVXJscyA9IGZ1bmN0aW9uKCApIHsKICAgICAgICB2YXIga2V5cyA9IG1vZHVsZXNfaW5mby5tb2R1bGVOYW1lcyggKS5zb3J0KCApOwogICAgICAgIHZhciByZXMgPSAiIjsKICAgICAgICB2YXIgcHJlID0gIiI7CiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSApIHsKICAgICAgICAgICAgcmVzICs9IHByZSArIGtleXNbIGkgXSArICIgPT4gIiArIG1vZHVsZXNfaW5mby5nZXRNb2R1bGUoIGtleXNbIGkgXSApLnVybDsKICAgICAgICAgICAgcHJlID0gIlxuIjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlczsKICAgIH07CiAgICAKICAgIC8qKiBSZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIHVybCBmb3IgYSBzaW5nbGUsIG5hbWVkIG1vZHVsZS4KICAgICAqCiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSB1cmwgb2YgYSBzaW5nbGUgbmFtZSBtb2R1bGUsIG9yIGFuCiAgICAgKiBleGNlcHRpb24sIGlmIHRoZSBtb2R1bGUgaXMgbm90IGZvdW5kLgogICAgICoKICAgICAqIEBzeW50YXggTW9kdWxlc0luZm8uZ2V0TW9kdWxlVXJsKCBtb2R1bGUgKQogICAgICogQHJldHVybiBUaGUgVVJMIGZvciB0aGUgbW9kdWxlCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIG1vZHVsZQogICAgICogQG1ldGhvZAogICAgICogQG5hbWUgTW9kdWxlc0luZm8uZ2V0TW9kdWxlVXJsICovCiAgICB0aGF0LmdldE1vZHVsZVVybCA9IGZ1bmN0aW9uKCBtb2R1bGUgKSB7CiAgICAgICAgcmV0dXJuIG1vZHVsZXNfaW5mby5nZXRNb2R1bGUoIG1vZHVsZSApLnVybDsKICAgIH0KCiAgICByZXR1cm4gdGhhdDsKfSggKTsK","moduleName":"ModulesInfo"}
